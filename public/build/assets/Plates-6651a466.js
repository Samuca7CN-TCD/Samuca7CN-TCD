import{A as q,X as P,P as N,_ as B}from"./AppLayout-54df63e1.js";import{o as r,e as d,a as e,b as i,u as t,t as l,r as V,T as C,c as y,w as f,i as D,f as p,l as b,q as g,n as w,g as $,d as O,F as S,h as M,O as k}from"./app-cb5a776c.js";import{t as h}from"./shared_functions-016de35d.js";import{P as j}from"./index-d5a5105f.js";import{_ as U}from"./Modal-8696fa0c.js";import{_ as E}from"./PrimaryButton-83c71a18.js";import{_ as F}from"./SecondaryButton-6ced68bd.js";const I={class:"w-11/12 m-auto md:px-0 rounded-xl shadow-2xl min-h-[525px] my-10 bg-white overflow-hidden"},L={class:"overflow-hidden bg-white shadow sm:rounded-lg"},T={class:"px-4 py-5 sm:px-6"},A=["href"],Q=e("div",{class:"w-32 h-1 bg-gray-700"},null,-1),X={class:"w-full text-4xl border-none px-0 pt-5"},z={class:"border-t border-gray-200"},G={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},H=e("dt",{class:"text-sm font-medium text-gray-500"},"Preço no orçamento",-1),J={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},K={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},R=e("dt",{class:"text-sm font-medium text-gray-500"},"Custo (Buffet para 10 pessoas)",-1),W={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Y={class:"bg-gray-50 gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Z=e("dt",{class:"text-sm font-medium text-gray-500"},"Excedente",-1),ee={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},te={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},se=e("dt",{class:"text-sm font-medium text-gray-500"},"Descrição",-1),oe={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 whitespace-pre-line"},ae={__name:"Buffet",props:{buffet:Object},setup(o){return(c,u)=>(r(),d("section",I,[e("div",L,[e("div",T,[e("a",{href:c.route("buffets.index",o.buffet.type),class:"text-gray-700 hover:text-gray-900 active:text-gray-800 flex flex-row items-center align-middle space-x-2"},[i(t(q),{class:"w-4 h-4"}),e("span",null,l(o.buffet.type==1?"Buffet":"Entrada"),1)],8,A),Q,e("h1",X,l(o.buffet.name),1)]),e("div",z,[e("dl",null,[e("div",G,[H,e("dd",J,l(t(h)(o.buffet.price)),1)]),e("div",K,[R,e("dd",W,l(t(h)(o.buffet.cost)),1)]),e("div",Y,[Z,e("dd",ee,l(t(h)(o.buffet.price-o.buffet.cost)),1)]),e("div",te,[se,e("dd",oe,l(o.buffet.description),1)])])])]),e("main",null,[V(c.$slots,"default")])]))}},le={class:"mt-5 mx-5"},re={class:"flex flex-row align-middle items-center space-x-2"},de={class:"bg-gray-100 p-2 rounded-full text-gray-400"},ne=e("h2",{class:"text-2xl bold"},"Cadastrar plate",-1),ie=e("p",{class:"text-xm text-gray-500 mt-3"},"Formulário para cadastro de um novo plate",-1),ce=["onSubmit"],ue={class:"overflow-hidden border-2 m-5 sm:rounded-md bg-white sm:p-3 flex-col-config divide-y-2"},_e={class:"w-full m-0 p-0 space-y-2"},me={key:0,class:"text-xs text-red-600 ml-3"},pe={class:"w-full"},fe=e("label",{for:"plate_name",class:"text-xs text-slate-700"},"Nome do plate",-1),xe={key:0,class:"text-xs text-red-600 ml-3"},be={class:"w-full"},ge=e("label",{for:"plate_description",class:"text-xs text-slate-700"},"Descrição",-1),he={key:0,class:"text-xs text-red-600 ml-3"},ye={class:"w-full"},ve=e("label",{for:"plate_qtd_per_ten_people",class:"text-xs text-slate-700"},"Quantidade para 10 pessoas",-1),we={key:0,class:"text-xs text-red-600 ml-3"},$e={class:"w-full"},ke=e("label",{for:"plate_measure_unity",class:"text-xs text-slate-700"},"Unidade de medida",-1),Ce={key:0,class:"text-xs text-red-600 ml-3"},qe={class:"w-full px-4 py-3 sm:px-6 mt-5 flex-col-config space-y-8 sm:flex-row-config sm:space-y-0"},Pe={__name:"ModalCreatePlate",props:{buffet_id:Number},emits:["modal_open"],setup(o,{emit:c}){const s=C({status:1,name:null,description:null,qtd_per_ten_people:1,measure_unity:"unidades",buffet_id:o.buffet_id}),_=()=>{s.reset(),s.clearErrors(),c("modal_open",!1)},m=()=>{s.post(route("plates.store"),{preserveScroll:!0,onFinish:()=>{console.log(s.errors)},onSuccess:()=>_()})};return(x,a)=>(r(),y(U,{show:!0},{default:f(()=>[e("div",le,[e("div",re,[e("span",de,[i(t(j),{class:"w-5 h-5"})]),ne]),ie]),e("form",{id:"create_task",onSubmit:D(m,["prevent"]),class:"w-full"},[e("div",ue,[e("div",_e,[t(s).errors.buffet_id?(r(),d("div",me,l(t(s).errors.buffet_id),1)):p("",!0),e("div",pe,[fe,b(e("input",{type:"text",id:"plate_name",placeholder:"Nome do prato",class:"w-full border-slate-300 sm:text-md","onUpdate:modelValue":a[0]||(a[0]=n=>t(s).name=n),required:"required",autofocus:""},null,512),[[g,t(s).name]]),t(s).errors.name?(r(),d("div",xe,l(t(s).errors.name),1)):p("",!0)]),e("div",be,[ge,b(e("textarea",{id:"plate_description",placeholder:"Descrição",class:"w-full border-slate-300 sm:text-md","onUpdate:modelValue":a[1]||(a[1]=n=>t(s).description=n),rows:"2"},null,512),[[g,t(s).description]]),t(s).errors.description?(r(),d("div",he,l(t(s).errors.description),1)):p("",!0)]),e("div",ye,[ve,b(e("input",{type:"number",step:"1",min:"1",id:"plate_qtd_per_ten_people",placeholder:"Descrição",class:"w-full border-slate-300 sm:text-md",required:"","onUpdate:modelValue":a[2]||(a[2]=n=>t(s).qtd_per_ten_people=n)},null,512),[[g,t(s).qtd_per_ten_people]]),t(s).errors.qtd_per_ten_people?(r(),d("div",we,l(t(s).errors.qtd_per_ten_people),1)):p("",!0)]),e("div",$e,[ke,b(e("input",{type:"text",id:"plate_measure_unity",placeholder:"Descrição",class:"w-full border-slate-300 sm:text-md",required:"","onUpdate:modelValue":a[3]||(a[3]=n=>t(s).measure_unity=n)},null,512),[[g,t(s).measure_unity]]),t(s).errors.measure_unity?(r(),d("div",Ce,l(t(s).errors.measure_unity),1)):p("",!0)])]),e("div",qe,[i(F,{type:"button",class:w(["ml-4",{"opacity-25":t(s).processing}]),disabled:t(s).processing,onClick:_},{default:f(()=>[$(" Cancelar ")]),_:1},8,["class","disabled"]),i(E,{class:w(["ml-4",{"opacity-25":t(s).processing}]),disabled:t(s).processing},{default:f(()=>[$(" Cadastrar ")]),_:1},8,["class","disabled"])])])],40,ce)]),_:1}))}},Ne={class:"my-1 select-none overflow-hidden"},Be={key:0,class:"p-5 overflow-auto"},Ve=e("p",{class:"text-gray-700"},"Lista de ingredientes",-1),De={class:"w-full overflow-auto rounded-xl shadow-lg border border-gray-300"},Oe={class:"w-full m-auto table-auto overflow-auto"},Se=e("thead",{class:"lg:border-b-2 lg:border-gray-500"},[e("th",null,"Nome"),e("th",null,"Qtd. / Buffet (10 pessoas)"),e("th",null,"Custo / Buffet (10 pessoas)")],-1),Me=["title"],je=["onClick"],Ue=["onClick"],Ee=["onClick"],Fe={class:"py-3 px-5 truncate flex-row-config"},Ie={key:1,class:"w-full text-center my-5"},Le=e("span",null,"Cadastrar novo prato",-1),Te={__name:"PlateList",props:{activated_page:Number,buffet:Object,plate_list:Object},setup(o){C({status:2,name:"",description:null,price:0,qtd_per_ten_people:1,buffet_id:o.buffet.id,ingredients:null});const u=O(!1),s=m=>{k.delete(route("plates.destroy",m),{preserveScroll:!0})},_=m=>{k.get(route("ingredients.index",m))};return(m,x)=>(r(),y(ae,{buffet:o.buffet},{default:f(()=>[e("section",Ne,[o.plate_list.length?(r(),d("div",Be,[Ve,e("div",De,[e("table",Oe,[Se,e("tbody",null,[(r(!0),d(S,null,M(o.plate_list,(a,n)=>(r(),d("tr",{key:a.id,class:w(["lg:border-b-2 lg-border-gray-100 hover:bg-gray-200 active:bg-gray-300 cursor-pointer text-center",{"bg-gray-100":n%2!=0}]),title:"Ver detalhes de "+a.name},[e("td",{class:"py-3 px-5 truncate",onClick:v=>_(a.id)},l(a.name),9,je),e("td",{class:"py-3 px-5 truncate",onClick:v=>_(a.id)},l(a.qtd_per_ten_people)+" "+l(a.qtd_per_ten_people>1?"pratos":"prato"),9,Ue),e("td",{class:"py-3 px-5 truncate",onClick:v=>_(a.id)},l(t(h)(a.cost)),9,Ee),e("td",Fe,[i(t(P),{class:"w-6 h-6 text-stone-700 hover:text-stone-500 active:text-stone-300",title:"Deletar plate Pendente",onClick:v=>s(a.id)},null,8,["onClick"])])],10,Me))),128))])])])])):(r(),d("div",Ie,l(o.buffet.name)+" não possui pratos cadastrados!",1)),e("div",{class:"w-full py-3 mb-10 text-sky-500 hover:text-sky-900 active:text-sky-700 cursor-pointer flex-row-config space-x-2 align-middle",onClick:x[0]||(x[0]=a=>u.value=!0)},[i(t(N),{class:"w-5 h-5"}),$(),Le])]),u.value?(r(),y(Pe,{key:0,buffet_id:o.buffet.id,onModal_open:x[1]||(x[1]=a=>u.value=a)},null,8,["buffet_id"])):p("",!0)]),_:1},8,["buffet"]))}},Ae=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Pratos ",-1),Re={__name:"Plates",props:{activated_page:Number,submenu:Object,submenu_category:String,buffet:Object,plate_list:Object},setup(o){return(c,u)=>(r(),y(B,{title:"Plate",submenu:o.submenu,activated_page:o.activated_page,submenu_category:o.submenu_category},{header:f(()=>[Ae]),default:f(()=>[i(Te,{activated_page:o.activated_page,buffet:o.buffet,plate_list:o.plate_list},null,8,["activated_page","buffet","plate_list"])]),_:1},8,["submenu","activated_page","submenu_category"]))}};export{Re as default};
