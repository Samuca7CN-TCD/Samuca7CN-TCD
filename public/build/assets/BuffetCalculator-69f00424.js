import{_ as q}from"./AppLayout-8f562265.js";import{d as v,o as u,e as n,a as t,l as y,q as N,s as k,F as p,h as g,t as l,b as P,w as m,g as T,u as _,n as O,f as x,O as $,c as j}from"./app-92fc4aab.js";import{_ as Q}from"./SecondaryButton-a70fa1cd.js";import{t as f}from"./shared_functions-016de35d.js";const F={class:"w-11/12 m-auto px-0 rounded-xl shadow-2xl my-10 bg-white select-none overflow-hidden"},M={class:"w-full flex flex-row"},S={class:"w-1/3 bg-gray-700 p-5 text-gray-100"},U={class:"space-y-2"},D={class:"w-full"},z=t("label",{for:"qtd_pessoas",class:"text-xs text-white"},"Quantidade de pessoas",-1),L={class:"w-full"},R=["selected"],A=["value","selected"],G={class:"w-full"},H=["selected"],I=["value","selected"],J=t("h3",{class:"mt-10 text-xl text-red-200"},"Resumo:",-1),K={class:"text-xl font-weight-bolder"},W={class:"w-2/3 bg-gray-100 text-gray-700"},X={key:0,class:"w-full"},Y=t("h2",{class:"text-2xl p-5"},"Pratos da entrada:",-1),Z={class:"w-full overflow-auto bg-white"},tt={class:"w-full m-auto table-auto overflow-auto"},et={class:"lg:border-b-2 lg:border-gray-500"},st=t("th",null,"Nome",-1),lt=["title"],at={class:"py-3 px-5 truncate"},ot={class:"py-3 px-5 truncate"},ut={class:"py-3 px-5 truncate"},nt={class:"bg-red-100"},rt={class:"py-3 px-5 truncate text-right",colspan:"3"},dt={key:1,class:"w-full"},ct=t("h2",{class:"text-2xl p-5"},"Pratos do buffet:",-1),it={class:"w-full overflow-auto bg-white"},_t={class:"w-full m-auto table-auto overflow-auto"},ft={class:"lg:border-b-2 lg:border-gray-500"},bt=t("th",null,"Nome",-1),ht=["title"],pt={class:"py-3 px-5 truncate"},gt={class:"py-3 px-5 truncate"},vt={class:"py-3 px-5 truncate"},yt={class:"bg-red-100"},mt={class:"py-3 px-5 truncate text-right",colspan:"3"},xt=t("div",null,null,-1),wt={__name:"Calculator",props:{buffet_list:Object,options:Object,entry_plates:Object,buffet_plates:Object},setup(a){const d=a,o=v(d.options.qtd_pessoas),c=v(d.options.entry),i=v(d.options.buffet),E=()=>{$.get(route("buffet-calculator.index",[o.value,c.value,i.value]))},h=r=>{let s=0,e=null;return r=="entry"&&(e=d.entry_plates),r=="buffet"&&(e=d.buffet_plates),e.forEach(b=>{s+=b.cost*(o.value/10)}),s},w=()=>h("entry")+h("buffet"),B=r=>{let s=0;return d.buffet_list.entries.forEach(e=>{if(e.id==r){s=e.price*o.value;return}}),!s==null&&d.buffet_list.buffets.forEach(e=>{if(e.id==r){s=e.price*o.value;return}}),s},C=(r,s)=>B(r)+B(s),V=(r,s)=>C(r,s)-w();return(r,s)=>(u(),n("section",F,[t("div",M,[t("div",S,[t("div",U,[t("div",D,[z,y(t("input",{type:"number",step:"10",id:"qtd_pessoas","onUpdate:modelValue":s[0]||(s[0]=e=>o.value=e),placeholder:"Quantidade de pessoas",class:"w-full sm:text-sm bg-gray-700 text-gray-100"},null,512),[[N,o.value]])]),t("div",L,[y(t("select",{class:"w-full border-none sm:text-xs bg-gray-700 text-gray-100","onUpdate:modelValue":s[1]||(s[1]=e=>c.value=e)},[t("option",{value:0,selected:c.value==null,disabled:"disabled"},"Escolha uma Entrada",8,R),(u(!0),n(p,null,g(a.buffet_list.entries,e=>(u(),n("option",{key:e.id,value:e.id,selected:c.value==e.id},l(e.name),9,A))),128))],512),[[k,c.value]])]),t("div",G,[y(t("select",{class:"w-full border-none sm:text-xs bg-gray-700 text-gray-100","onUpdate:modelValue":s[2]||(s[2]=e=>i.value=e)},[t("option",{value:0,selected:i.value,disabled:"disabled"},"Escolha um Buffet ",8,H),(u(!0),n(p,null,g(a.buffet_list.buffets,e=>(u(),n("option",{key:e.id,value:e.id,selected:i.value==e.id},l(e.name),9,I))),128))],512),[[k,i.value]])]),P(Q,{class:"w-full text-center",onClick:s[3]||(s[3]=e=>E())},{default:m(()=>[T(" Calcular ")]),_:1})]),t("div",null,[J,t("p",null,"PreÃ§o total: "+l(_(f)(C(c.value,i.value))),1),t("p",null,"Custo total: "+l(_(f)(w())),1),t("p",K,"Excedente: "+l(_(f)(V(c.value,i.value))),1)])]),t("div",W,[a.entry_plates?(u(),n("div",X,[Y,t("div",Z,[t("table",tt,[t("thead",et,[st,t("th",null,"Qtd. / Buffet ("+l(o.value)+" pessoas)",1),t("th",null,"Custo / Buffet ("+l(o.value)+" pessoas)",1)]),t("tbody",null,[(u(!0),n(p,null,g(a.entry_plates,(e,b)=>(u(),n("tr",{key:e.id,class:O(["lg:border-b-2 lg-border-gray-100 hover:bg-gray-200 active:bg-gray-300 cursor-pointer text-center",{"bg-gray-100":b%2!=0}]),title:"Ver detalhes de "+e.name},[t("td",at,l(e.name),1),t("td",ot,l(e.qtd_per_ten_people*(o.value/10))+" prato(s) ",1),t("td",ut,l(_(f)(e.cost*(o.value/10))),1)],10,lt))),128)),t("tr",nt,[t("td",rt,"Custo totalda entrada: "+l(_(f)(h("entry"))),1)])])])])])):x("",!0),a.buffet_plates?(u(),n("div",dt,[ct,t("div",it,[t("table",_t,[t("thead",ft,[bt,t("th",null,"Qtd. / Buffet ("+l(o.value)+" pessoas)",1),t("th",null,"Custo / Buffet ("+l(o.value)+" pessoas)",1)]),t("tbody",null,[(u(!0),n(p,null,g(a.buffet_plates,(e,b)=>(u(),n("tr",{key:e.id,class:O(["lg:border-b-2 lg-border-gray-100 hover:bg-gray-200 active:bg-gray-300 cursor-pointer text-center",{"bg-gray-100":b%2!=0}]),title:"Ver detalhes de "+e.name},[t("td",pt,l(e.name),1),t("td",gt,l(e.qtd_per_ten_people*(o.value/10))+" prato(s) ",1),t("td",vt,l(_(f)(e.cost*(o.value/10))),1)],10,ht))),128)),t("tr",yt,[t("td",mt,"Custo total do Buffet: "+l(_(f)(h("buffet"))),1)])])])])])):x("",!0)])]),xt]))}},Bt=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Calculadora de Buffet ",-1),Et={__name:"BuffetCalculator",props:{activated_page:Number,submenu:Object,submenu_category:String,buffet_list:Object,options:Object,entry_plates:Object,buffet_plates:Object},setup(a){return(d,o)=>(u(),j(q,{title:"Calculadora de Buffet",submenu:a.submenu,activated_page:a.activated_page,submenu_category:a.submenu_category},{header:m(()=>[Bt]),default:m(()=>[a.activated_page==0?(u(),j(wt,{key:0,buffet_list:a.buffet_list,options:a.options,entry_plates:a.entry_plates,buffet_plates:a.buffet_plates},null,8,["buffet_list","options","entry_plates","buffet_plates"])):x("",!0)]),_:1},8,["submenu","activated_page","submenu_category"]))}};export{Et as default};
