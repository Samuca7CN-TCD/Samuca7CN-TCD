import{X as C,P as N,_ as T}from"./AppLayout-dff32da7.js";import{T as J,o as l,c as x,w as f,a as e,b as p,u as r,i as V,l as k,q as S,e as d,t as u,f as h,n as g,g as b,O as w,d as $,F as y,h as O}from"./app-880012d1.js";import{P as j}from"./index-9fd92344.js";import{_ as B}from"./Modal-2acfbc54.js";import{_ as P}from"./PrimaryButton-24d4b4db.js";import{_ as D}from"./SecondaryButton-5e9777b3.js";import{t as v}from"./shared_functions-016de35d.js";const R={class:"mt-5 mx-5"},z={class:"flex flex-row align-middle items-center space-x-2"},F={class:"bg-blue-100 p-2 rounded-full text-blue-400"},U=e("h2",{class:"text-2xl bold"},"Cadastrar Tarefa",-1),I=e("p",{class:"text-xm text-gray-500 mt-3"},"Formulário para cadastro de uma nova tarefa",-1),L=["onSubmit"],A={class:"overflow-hidden border-2 m-5 sm:rounded-md bg-white sm:p-3 flex-col-config divide-y-2"},G={class:"w-full m-0 p-0 space-y-2"},X={class:"w-full"},q={key:0,class:"text-xs text-red-600 ml-3"},H={class:"full"},K={class:"relative mt-2 rounded-md shadow-sm"},Q=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("span",{class:"text-gray-500 sm:text-sm"},"R$")],-1),W={key:0,class:"text-xs text-red-600 ml-3"},Y={class:"w-full px-4 py-3 space-x-2 text-right sm:px-6 mt-5"},E={__name:"ModalCreateExpense",props:{expense_record:Object},emits:["modal_open"],setup(o,{emit:i}){const c=o,s=J({name:null,amount:0}),m=()=>{s.reset(),s.clearErrors(),i("modal_open",!1)},a=()=>{if(c.expense_record){let n=c.expense_record,t=JSON.parse(n.last_record);t.push({id:t[t.length-1].id+1,name:s.name,amount:s.amount,deleted_at:null,created_at:new Date().toLocaleString("pt-BR",{timezone:"UTC"}),updated_at:new Date().toLocaleString("pt-BR",{timezone:"UTC"})}),n.last_record=JSON.stringify(t),w.put(route("monthly_expenses.update_record",c.expense_record.id),n,{preserveScroll:!0,onSuccess:()=>m()})}else s.post(route("monthly_expenses.store"),{preserveScroll:!0,onSuccess:()=>m()})};return(n,t)=>(l(),x(B,{show:!0},{default:f(()=>[e("div",R,[e("div",z,[e("span",F,[p(r(j),{class:"w-5 h-5"})]),U]),I]),e("form",{id:"create_task",onSubmit:V(a,["prevent"]),class:"w-full"},[e("div",A,[e("div",G,[e("div",X,[k(e("input",{type:"text",name:"expense_name",id:"expense-name",autocomplete:"off",placeholder:"Nome do Gasto",class:"w-full border-none focus:outline-0 sm:text-md","onUpdate:modelValue":t[0]||(t[0]=_=>r(s).name=_)},null,512),[[S,r(s).name]]),r(s).errors.name?(l(),d("div",q,u(r(s).errors.name),1)):h("",!0)]),e("div",H,[e("div",K,[Q,k(e("input",{type:"number",step:"0.01",min:"0.00",name:"expense_amount",id:"expense_amount",class:"w-full border-none focus:outline-0 sm:text-m pl-10",placeholder:"Custo","onUpdate:modelValue":t[1]||(t[1]=_=>r(s).amount=_)},null,512),[[S,r(s).amount]]),r(s).errors.amount?(l(),d("div",W,u(r(s).errors.amount),1)):h("",!0)])])]),e("div",Y,[p(D,{type:"button",class:g(["ml-4",{"opacity-25":r(s).processing}]),disabled:r(s).processing,onClick:m},{default:f(()=>[b(" Cancelar ")]),_:1},8,["class","disabled"]),p(P,{class:g(["ml-4",{"opacity-25":r(s).processing}]),disabled:r(s).processing},{default:f(()=>[b(" Cadastrar ")]),_:1},8,["class","disabled"])])])],40,L)]),_:1}))}},Z={class:"w-11/12 m-auto px-0 rounded-xl shadow-2xl min-h-[525px] my-10 bg-white select-none overflow-hidden"},ee={class:"w-full p-5 bg-gray-900"},te={class:"text-xl text-gray-300"},se={class:"text-xl font-weight-bolder text-white"},oe={key:0,class:"w-full overflow-auto"},re={class:"w-full m-auto table-fixed overflow-auto mt-2"},ne=e("thead",{class:"lg:border-b-2 lg:border-gray-500"},[e("th",null,"Nome"),e("th",null,"Valor Padrão"),e("th",null,"Excluir")],-1),le={class:"py-3 px-5 truncate"},ae={class:"py-3 px-5 truncate"},ce=["onClick"],de={key:1,class:"w-full text-center my-10"},ie={__name:"MonthlyExpenses",props:{monthly_expenses:Object},setup(o){const i=o,c=$(!1),s=()=>{let a=0;return i.monthly_expenses.forEach(n=>{a+=n.amount}),a},m=a=>{w.delete(route("monthly_expenses.destroy",a),{preserveScroll:!0})};return(a,n)=>(l(),d(y,null,[e("section",Z,[e("div",ee,[e("p",te,[b("Total de despesas mensais: "),e("span",se,u(r(v)(s())),1)])]),o.monthly_expenses.length?(l(),d("div",oe,[e("table",re,[ne,e("tbody",null,[(l(!0),d(y,null,O(o.monthly_expenses,(t,_)=>(l(),d("tr",{key:t.id,class:g(["lg:border-b-2 lg-border-gray-100 hover:bg-gray-200 text-center",{"bg-gray-100":_%2!=0}])},[e("td",le,u(t.name),1),e("td",ae,u(r(v)(t.amount)),1),e("td",{class:"py-3 px-5 truncate cursor-pointer flex-col-config",title:"Excluir despesa mensal",onClick:M=>m(t.id)},[p(r(C),{class:"w-6 h-6"})],8,ce)],2))),128))])])])):(l(),d("div",de,"Não há gastos mensais registrados!"))]),e("button",{type:"buttom",class:"flex-col-config absolute top-28 right-12 bg-red-600 hover:bg-red-700 active:bg-red-500 text-white rounded-full p-5",onClick:n[0]||(n[0]=t=>c.value=!0)},[p(r(N),{class:"w-5 h-5"})]),c.value?(l(),x(E,{key:0,onModal_open:n[1]||(n[1]=t=>c.value=t)})):h("",!0)],64))}},ue={class:"w-11/12 m-auto px-0 rounded-xl shadow-2xl min-h-[525px] my-10 bg-white select-none overflow-hidden"},me={class:"w-full p-5 bg-gray-900"},_e={class:"text-xl text-gray-300"},pe={class:"text-xl font-weight-bolder text-white"},xe={key:0,class:"w-full overflow-auto"},he={class:"w-full m-auto table-fixed overflow-auto mt-2"},fe=e("thead",{class:"lg:border-b-2 lg:border-gray-500"},[e("th",null,"Nome"),e("th",null,"Valor Padrão"),e("th",null,"Excluir")],-1),ge={class:"py-3 px-5 truncate"},be={class:"py-3 px-5 truncate"},ye=["onClick"],ve={key:1,class:"w-full text-center my-10"},we={__name:"ExpenseRecords",props:{expense_record:Object},setup(o){const i=o,c=$(!1),s=()=>{let a=0;return JSON.parse(i.expense_record.last_record).forEach(n=>{a+=n.amount}),a},m=a=>{i.expense_record.last_record=JSON.stringify(JSON.parse(i.expense_record.last_record).filter(n=>n.id!=a)),w.put(route("monthly_expenses.update_record",i.expense_record.id),i.expense_record,{preserveScroll:!0})};return(a,n)=>(l(),d(y,null,[e("section",ue,[e("div",me,[e("p",_e,[b("Total de despesas mensais: "),e("span",pe,u(r(v)(s())),1)])]),o.expense_record.last_record.length?(l(),d("div",xe,[e("table",he,[fe,e("tbody",null,[(l(!0),d(y,null,O(JSON.parse(o.expense_record.last_record),(t,_)=>(l(),d("tr",{key:t.id,class:g(["lg:border-b-2 lg-border-gray-100 hover:bg-gray-200 text-center",{"bg-gray-100":_%2!=0}])},[e("td",ge,u(t.name),1),e("td",be,u(r(v)(t.amount)),1),e("td",{class:"py-3 px-5 truncate cursor-pointer flex-col-config",title:"Excluir despesa mensal",onClick:M=>m(t.id)},[p(r(C),{class:"w-6 h-6"})],8,ye)],2))),128))])])])):(l(),d("div",ve,"Não há gastos mensais registrados!"))]),e("button",{type:"buttom",class:"flex-col-config absolute top-28 right-12 bg-red-600 hover:bg-red-700 active:bg-red-500 text-white rounded-full p-5",onClick:n[0]||(n[0]=t=>c.value=!0)},[p(r(N),{class:"w-5 h-5"})]),c.value?(l(),x(E,{key:0,expense_record:o.expense_record,onModal_open:n[1]||(n[1]=t=>c.value=t)},null,8,["expense_record"])):h("",!0)],64))}},$e={class:"font-semibold text-xl text-gray-800 leading-tight"},Te={__name:"MonthlyExpense",props:{submenu:Object,submenu_category:String,activated_page:Number,monthly_expenses:Object,expense_record:Object},setup(o){const i=$(["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]);return(c,s)=>(l(),x(T,{title:"Clientes",submenu:o.submenu,activated_page:o.activated_page,submenu_category:o.submenu_category},{header:f(()=>[e("h2",$e," Gastos Mensais "+u(o.expense_record?" - "+i.value[o.expense_record.month-1]+" / "+o.expense_record.year:""),1)]),default:f(()=>[o.monthly_expenses?(l(),x(ie,{key:0,monthly_expenses:o.monthly_expenses},null,8,["monthly_expenses"])):h("",!0),o.expense_record?(l(),x(we,{key:1,expense_record:o.expense_record},null,8,["expense_record"])):h("",!0)]),_:1},8,["submenu","activated_page","submenu_category"]))}};export{Te as default};
