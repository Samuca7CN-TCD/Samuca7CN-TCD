import{A as $,X as k,P as I,_ as C}from"./AppLayout-1cfe5272.js";import{o as l,e as i,a as e,b as _,u as t,t as o,f as m,r as q,T as M,c as h,w as p,i as N,l as x,q as g,n as y,g as w,d as O,F as U,h as V,O as S}from"./app-41e5157c.js";import{t as b}from"./shared_functions-016de35d.js";import{P as j}from"./index-ddd3df00.js";import{_ as P}from"./Modal-5fe21e74.js";import{_ as B}from"./PrimaryButton-6ba0d3d9.js";import{_ as D}from"./SecondaryButton-8b1e2ffe.js";const E={class:"w-11/12 m-auto md:px-0 rounded-xl shadow-2xl min-h-[525px] my-10 bg-white overflow-hidden"},F={class:"overflow-hidden bg-white shadow sm:rounded-lg"},L={class:"px-4 py-5 sm:px-6"},Q=["href"],T=e("span",null,"Pratos",-1),A=e("div",{class:"w-32 h-1 bg-gray-700"},null,-1),X={class:"w-full text-4xl border-none px-0 pt-5"},z={class:"w-full text-md text-gray-500"},R={class:"border-t border-gray-200"},G={key:0,class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},H=e("dt",{class:"text-sm font-medium text-gray-500"},"Descrição",-1),J={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 whitespace-pre-line"},K={__name:"Plate",props:{plate:Object},setup(a){return(d,f)=>(l(),i("section",E,[e("div",F,[e("div",L,[e("a",{href:d.route("plates.index",a.plate.buffet_id),class:"text-gray-700 hover:text-gray-900 active:text-gray-800 flex flex-row items-center align-middle space-x-2"},[_(t($),{class:"w-4 h-4"}),T],8,Q),A,e("h1",X,o(a.plate.name),1),e("p",z,o(t(b)(a.plate.cost))+" / Buffet de 10 pessoas",1)]),e("div",R,[e("dl",null,[a.plate.description?(l(),i("div",G,[H,e("dd",J,o(a.plate.description),1)])):m("",!0)])])]),e("main",null,[q(d.$slots,"default")])]))}},W={class:"mt-5 mx-5"},Y={class:"flex flex-row align-middle items-center space-x-2"},Z={class:"bg-gray-100 p-2 rounded-full text-gray-400"},ee=e("h2",{class:"text-2xl bold"},"Cadastrar Ingrediente",-1),te=e("p",{class:"text-xm text-gray-500 mt-3"},"Formulário para cadastro de um novo Ingrediente",-1),se=["onSubmit"],ae={class:"overflow-hidden border-2 m-5 sm:rounded-md bg-white sm:p-3 flex-col-config divide-y-2"},oe={class:"w-full m-0 p-0 space-y-2"},le={class:"w-full"},ne=e("label",{for:"ingredient_name",class:"text-xs text-slate-700"},"Nome do Ingrediente",-1),re={key:0,class:"text-xs text-red-600 ml-3"},ie={class:"w-full"},de=e("label",{for:"ingredient_description",class:"text-xs text-slate-700"},"Descrição (opcional)",-1),ce={key:0,class:"text-xs text-red-600 ml-3"},ue={class:"w-full"},me={for:"ingredient_quantity",class:"text-xs text-slate-700"},_e={key:0,class:"text-xs text-red-600 ml-3"},pe={class:"w-full"},xe=e("label",{for:"measure_unit",class:"text-xs text-slate-700"},"Unidade de Medida do ingrediente",-1),ge={key:0,class:"text-xs text-red-600 ml-3"},fe={class:"full"},he=e("label",{for:"ingredient_cost",class:"block text-sm font-medium leading-6 text-gray-900"},"Custo por unidade",-1),ye={class:"relative mt-2 rounded-md shadow-sm"},be=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("span",{class:"text-gray-500 sm:text-sm"},"R$")],-1),ve={key:0,class:"text-xs text-red-600 ml-3"},we={class:"w-full px-4 py-3 sm:px-6 mt-5 flex-col-config space-y-8 sm:flex-row-config sm:space-y-0"},$e={__name:"ModalCreateIngredient",props:{plate:Object},emits:["modal_open"],setup(a,{emit:d}){const s=M({name:"",description:null,quantity:1,measure_unity:"unidades",cost:0,buffet_plate_id:a.plate.id}),u=()=>{s.reset(),s.clearErrors(),d("modal_open",!1)},n=()=>{s.post(route("ingredients.store"),{preserveScroll:!0,onSuccess:()=>u()})};return(v,r)=>(l(),h(P,{show:!0},{default:p(()=>[e("div",W,[e("div",Y,[e("span",Z,[_(t(j),{class:"w-5 h-5"})]),ee]),te]),e("form",{id:"create_task",onSubmit:N(n,["prevent"]),class:"w-full"},[e("div",ae,[e("div",oe,[e("div",le,[ne,x(e("input",{type:"text",id:"Ingredient_name",placeholder:"Nome do Ingrediente",class:"w-full border-slate-300 sm:text-md",autofocus:"",required:"","onUpdate:modelValue":r[0]||(r[0]=c=>t(s).name=c)},null,512),[[g,t(s).name]]),t(s).errors.name?(l(),i("div",re,o(t(s).errors.name),1)):m("",!0)]),e("div",ie,[de,x(e("textarea",{id:"ingredient_description",placeholder:"Descrição",class:"w-full border-slate-300 sm:text-md","onUpdate:modelValue":r[1]||(r[1]=c=>t(s).description=c),rows:"2"},null,512),[[g,t(s).description]]),t(s).errors.description?(l(),i("div",ce,o(t(s).errors.description),1)):m("",!0)]),e("div",ue,[e("label",me,"Quantidade por "+o(a.plate.measure_unity)+" de "+o(a.plate.name),1),x(e("input",{type:"number",step:"1",min:"1",id:"ingredient_quantity",required:"",placeholder:"Quantidade",class:"w-full border-slate-300 sm:text-md","onUpdate:modelValue":r[2]||(r[2]=c=>t(s).quantity=c)},null,512),[[g,t(s).quantity]]),t(s).errors.quantity?(l(),i("div",_e,o(t(s).errors.quantity),1)):m("",!0)]),e("div",pe,[xe,x(e("input",{type:"text",id:"measure_unit",placeholder:"Unidade de Medida",class:"w-full border-slate-300 sm:text-md",required:"","onUpdate:modelValue":r[3]||(r[3]=c=>t(s).measure_unity=c)},null,512),[[g,t(s).measure_unity]]),t(s).errors.measure_unity?(l(),i("div",ge,o(t(s).errors.measure_unity),1)):m("",!0)]),e("div",fe,[he,e("div",ye,[be,x(e("input",{type:"number",step:"0.01",min:"0.00",name:"ingredient_cost",id:"ingredient_cost",class:"block w-full rounded-md border-0 py-1.5 pl-10 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-grey-600 sm:text-sm sm:leading-6",placeholder:"Custo por unidade",required:"","onUpdate:modelValue":r[4]||(r[4]=c=>t(s).cost=c)},null,512),[[g,t(s).cost]]),t(s).errors.cost?(l(),i("div",ve,o(t(s).errors.cost),1)):m("",!0)])])]),e("div",we,[_(D,{type:"button",class:y(["ml-4",{"opacity-25":t(s).processing}]),disabled:t(s).processing,onClick:u},{default:p(()=>[w(" Cancelar ")]),_:1},8,["class","disabled"]),_(B,{class:y(["ml-4",{"opacity-25":t(s).processing}]),disabled:t(s).processing},{default:p(()=>[w(" Cadastrar ")]),_:1},8,["class","disabled"])])])],40,se)]),_:1}))}},ke={class:"my-1 select-none overflow-hidden"},Ie={key:0,class:"p-5 overflow-auto"},Ce=e("p",{class:"text-gray-700"},"Lista de ingredientes",-1),qe={class:"w-full overflow-auto rounded-xl shadow-lg border border-gray-300"},Me={class:"w-full m-auto table-auto overflow-auto"},Ne=e("thead",{class:"lg:border-b-2 lg:border-gray-500"},[e("th",null,"Nome"),e("th",null,"Quantidade"),e("th",null,"Und. medida"),e("th",null,"Custo p/ unidade"),e("th",null,"Custo total"),e("th",null,"Excluir")],-1),Oe=["title"],Ue={class:"py-3 px-5 truncate"},Ve={class:"py-3 px-5 truncate"},Se={class:"py-3 px-5 truncate"},je={class:"py-3 px-5 truncate"},Pe={class:"py-3 px-5 truncate"},Be=["onClick"],De={key:1,class:"w-full text-center my-5"},Ee=e("span",null,"Cadastrar novo Ingrediente",-1),Fe={__name:"Ingredients",props:{activated_page:Number,plate:Object,ingredient_list:Object},setup(a){const d=O(!1),f=s=>{S.delete(route("ingredients.destroy",s),{preserveScroll:!0})};return(s,u)=>(l(),h(K,{plate:a.plate},{default:p(()=>[e("section",ke,[a.ingredient_list.length?(l(),i("div",Ie,[Ce,e("div",qe,[e("table",Me,[Ne,e("tbody",null,[(l(!0),i(U,null,V(a.ingredient_list,(n,v)=>(l(),i("tr",{key:n.id,class:y(["lg:border-b-2 lg-border-gray-100 hover:bg-gray-200 text-center",{"bg-gray-100":v%2!=0}]),title:n.description},[e("td",Ue,o(n.name),1),e("td",Ve,o(n.quantity),1),e("td",Se,o(n.measure_unity),1),e("td",je,o(t(b)(n.cost)),1),e("td",Pe,o(t(b)(n.quantity*n.cost)),1),e("td",{class:"py-3 px-5 truncate flex-col-config cursor-pointer",title:"Excluir Ingrediente",onClick:r=>f(n.id)},[_(t(k),{class:"w-6 h-6"})],8,Be)],10,Oe))),128))])])])])):(l(),i("div",De,o(a.plate.name)+" não possui pratos cadastrados!",1)),e("div",{class:"w-full py-3 mb-10 text-sky-500 hover:text-sky-900 active:text-sky-700 cursor-pointer flex-row-config space-x-2 align-middle select-none",onClick:u[0]||(u[0]=n=>d.value=!0)},[_(t(I),{class:"w-5 h-5"}),Ee])]),d.value?(l(),h($e,{key:0,plate:a.plate,onModal_open:u[1]||(u[1]=n=>d.value=n)},null,8,["plate"])):m("",!0)]),_:1},8,["plate"]))}},Le=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Ingredientes ",-1),He={__name:"Ingredients",props:{activated_page:Number,submenu:Object,submenu_category:String,plate:Object,ingredient_list:Object},setup(a){return(d,f)=>(l(),h(C,{title:"Ingredient",submenu:a.submenu,activated_page:a.activated_page,submenu_category:a.submenu_category},{header:p(()=>[Le]),default:p(()=>[_(Fe,{activated_page:a.activated_page,plate:a.plate,ingredient_list:a.ingredient_list},null,8,["activated_page","plate","ingredient_list"])]),_:1},8,["submenu","activated_page","submenu_category"]))}};export{He as default};
